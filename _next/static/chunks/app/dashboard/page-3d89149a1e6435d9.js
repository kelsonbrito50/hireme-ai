(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2287:function(e,t,a){Promise.resolve().then(a.bind(a,3964))},3964:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(7437),s=a(2265);function r(e){let{score:t,size:a=56}=e,s=(a-8)/2,r=2*Math.PI*s,n=t>70?"stroke-emerald-400":t>40?"stroke-amber-400":"stroke-red-400";return(0,l.jsxs)("div",{className:"relative inline-flex items-center justify-center",style:{width:a,height:a},children:[(0,l.jsxs)("svg",{width:a,height:a,className:"-rotate-90",children:[(0,l.jsx)("circle",{cx:a/2,cy:a/2,r:s,fill:"none",stroke:"currentColor",strokeWidth:4,className:"text-white/10"}),(0,l.jsx)("circle",{cx:a/2,cy:a/2,r:s,fill:"none",strokeWidth:4,strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:r-t/100*r,className:"".concat(n," transition-[stroke-dashoffset] duration-700 ease-out")})]}),(0,l.jsxs)("span",{className:"absolute text-xs font-semibold",children:[t,"%"]})]})}function n(e){var t;let{application:a}=e,{title:s,company:n,status:i,matchScore:c,createdAt:o}=a;return(0,l.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 backdrop-blur transition hover:border-white/20",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,l.jsx)("h3",{className:"truncate text-lg font-semibold",children:s}),(0,l.jsx)("p",{className:"text-sm text-slate-400",children:n})]}),null!==c&&(0,l.jsx)(r,{score:c})]}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,l.jsx)("span",{className:"inline-block rounded-full px-2.5 py-0.5 text-xs font-medium ".concat(null!==(t=({SAVED:"bg-gray-100 text-gray-800",APPLIED:"bg-blue-100 text-blue-800",INTERVIEWING:"bg-yellow-100 text-yellow-800",OFFERED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800",WITHDRAWN:"bg-purple-100 text-purple-800"})[i])&&void 0!==t?t:"bg-gray-100 text-gray-800"),children:i}),(0,l.jsx)("span",{className:"text-xs text-slate-500",children:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(o))})]})]})}var i=a(6471);let c=(0,i.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var o=a(6904);function d(e){let{onApplicationCreated:t}=e,[a,r]=(0,s.useState)(""),[n,i]=(0,s.useState)(!1),[d,h]=(0,s.useState)(null),m=async e=>{if(e.preventDefault(),a.trim()){i(!0),h(null);try{let e=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jobDescription:a})});if(e.ok){let a=await e.json();h(a),null==t||t()}}catch(e){console.error("Analysis failed:",e)}finally{i(!1)}}};return(0,l.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur",children:[(0,l.jsxs)("form",{onSubmit:m,children:[(0,l.jsx)("textarea",{value:a,onChange:e=>r(e.target.value),placeholder:"Paste a job description here…",rows:6,className:"w-full resize-none rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white placeholder-slate-500 outline-none focus:border-blue-500"}),(0,l.jsxs)("button",{type:"submit",disabled:n||!a.trim(),className:"mt-3 inline-flex items-center gap-2 rounded-xl bg-blue-600 px-5 py-2.5 text-sm font-medium text-white transition hover:bg-blue-500 disabled:opacity-50",children:[n?(0,l.jsx)(c,{className:"h-4 w-4 animate-spin"}):(0,l.jsx)(o.Z,{className:"h-4 w-4"}),n?"Analyzing…":"Analyze"]})]}),d&&(0,l.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,l.jsx)("p",{className:"text-sm text-slate-300",children:d.summary}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.skills.map(e=>(0,l.jsx)("span",{className:"rounded-full bg-blue-500/20 px-3 py-1 text-xs text-blue-300",children:e},e))}),(0,l.jsxs)("p",{className:"text-sm font-medium",children:["Match Score:"," ",(0,l.jsxs)("span",{className:"text-emerald-400",children:[d.matchScore,"%"]})]})]})]})}let h=(0,i.Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),m=(0,i.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),x=(0,i.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function u(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),i=async()=>{try{let e=await fetch("/api/applications");if(e.ok){let a=await e.json();t(a)}}catch(e){console.error("Failed to fetch applications:",e)}finally{r(!1)}};(0,s.useEffect)(()=>{i()},[]);let c=e.length,o=e.filter(e=>null!==e.matchScore).length>0?Math.round(e.filter(e=>null!==e.matchScore).reduce((e,t)=>{var a;return e+(null!==(a=t.matchScore)&&void 0!==a?a:0)},0)/e.filter(e=>null!==e.matchScore).length):0,u=e.filter(e=>"INTERVIEWING"===e.status).length;return(0,l.jsx)("main",{className:"min-h-screen bg-[#0f172a] text-white",children:(0,l.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8",children:[(0,l.jsx)("h1",{className:"mb-8 text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,l.jsx)("div",{className:"mb-10 grid gap-6 sm:grid-cols-3",children:[{label:"Total Applications",value:c,icon:h,color:"text-blue-400"},{label:"Avg Match Score",value:"".concat(o,"%"),icon:m,color:"text-emerald-400"},{label:"Interviews Scheduled",value:u,icon:x,color:"text-amber-400"}].map(e=>(0,l.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-6 backdrop-blur",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)}),(0,l.jsx)("span",{className:"text-sm text-slate-400",children:e.label})]}),(0,l.jsx)("p",{className:"mt-3 text-3xl font-semibold",children:e.value})]},e.label))}),(0,l.jsxs)("section",{className:"mb-10",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Analyze a Job"}),(0,l.jsx)(d,{onApplicationCreated:i})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Your Applications"}),a?(0,l.jsx)("p",{className:"text-slate-400",children:"Loading…"}):0===e.length?(0,l.jsx)("p",{className:"text-slate-400",children:"No applications yet. Analyze a job description to get started!"}):(0,l.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,l.jsx)(n,{application:e},e.id))})]})]})})}},6471:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var l=a(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:h,...m}=e;return(0,l.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:c?24*Number(i)/Number(s):i,className:r("lucide",o),...m},[...h.map(e=>{let[t,a]=e;return(0,l.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,l.forwardRef)((a,n)=>{let{className:c,...o}=a;return(0,l.createElement)(i,{ref:n,iconNode:t,className:r("lucide-".concat(s(e)),c),...o})});return a.displayName="".concat(e),a}},6904:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});let l=(0,a(6471).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2287)}),_N_E=e.O()}]);